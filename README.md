# 自制百度网盘同步工具——魔改版Alist

# 程序功能一览

- 多文件夹同步 —— 本地文件更新到网盘、本地不存在的文件，百度网盘需要删除，按比大小的方式更新
- 非md5摘要同步，按字节大小计算，提升程序运行速度
- 加入文件排除蒙版支持正则
- 暂停时暂存同步进度功能，充分利用碎片化时间——删除operator.gob缓存文件，重新同步
- 输出文件差异表，辅助人工同步
- 修复alist 文件列表Url字段为nil的bug
- 修复alist 0k文件传输bug
- 修复alist 无法获取隐藏文件bug
- 修复alist 上传大文件无进度条
- 10次内自动试错重传，超过10次重传失败，会提示人工审核，保证同步传输稳定性、有效性
- 修复百度网盘同名文件上传"+_日期"bug，delete+upload
- 批量拉黑文件

# 性能

3个小时内同步10-20级目录文件。

# 如何使用

- 创建Native账号和百度网盘账号

- http://www.delayboy.cn/BaiduDisk

  ```
  "client_id=kh0XKlKIj2TMIx9ROvuNa6bnX4oMtYBX&" +
  "client_secret=cn81eyeq7UrbtXUbhN2GoGL5H5SX58dz";
  ```

- 点击右上角clear buffer

- 再次点击clear buffer暂停

- 注意需要暂停才能保存同步进度，直接关闭控制台同步进度会丢失。

# 使用场景

- 向百度网盘上传大型文件夹后希望快速同步更新
- 借助同步列表手动选择要更新的文件



# 百度授权第三方客户端的安全性分析

- refresh token机制保证对第三方服务器的有限授权 -> 密钥时效性短，密钥1->密钥2->密钥3
- server:密钥1->密钥2->密钥3
- 存在文件丢失风险
- 极小概率丢失私密大文件
- 小概率丢失私密小文件
- 授权码盗用的可察觉性